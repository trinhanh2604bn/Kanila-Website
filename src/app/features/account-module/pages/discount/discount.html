<div class="discount-codes">
  <h2 class="discount-title">MÃ GIẢM GIÁ</h2>

  <!-- THANH TAB -->
  <div class="tabs">
    <button
      type="button"
      class="tab"
      [class.active]="activeTab === 'available'"
      (click)="setTab('available')"
    >
      Mã đang có ({{ availableCoupons.length }})
    </button>

    <button
      type="button"
      class="tab"
      [class.active]="activeTab === 'used'"
      (click)="setTab('used')"
    >
      Đã sử dụng ({{ usedCoupons.length }})
    </button>

    <button
      type="button"
      class="tab"
      [class.active]="activeTab === 'expired'"
      (click)="setTab('expired')"
    >
      Hết hạn ({{ expiredCoupons.length }})
    </button>
  </div>

  <!-- TAB: MÃ ĐANG CÓ -->
  <div class="code-list" *ngIf="activeTab === 'available'">
    <div class="code-item" *ngFor="let c of availableCoupons">
      <div class="code-header">
        <span class="logo">
          <img [src]="c.logoUrl" alt="Logo" />
        </span>

        <span class="code-text">CODE : {{ c.code }}</span>

        <button type="button" class="status">
          Sử dụng ngay
        </button>
      </div>

      <div class="code-details">
        <p>Giảm {{ c.discountText }}</p>
        <p>Điều kiện: {{ c.conditionText }}</p>
        <p>Hạn sử dụng: {{ c.expiredAt | date: 'dd/MM/yyyy' }}</p>
      </div>
    </div>
  </div>

  <!-- TAB: ĐÃ SỬ DỤNG -->
  <div class="code-list" *ngIf="activeTab === 'used'">
    <div class="code-item" *ngFor="let c of usedCoupons">
      <div class="code-header">
        <span class="logo">
          <img [src]="c.logoUrl" alt="Logo" />
        </span>

        <span class="code-text">CODE : {{ c.code }}</span>

        <span class="status status-used">
          Đã sử dụng
        </span>
      </div>

      <div class="code-details">
        <p>Giảm {{ c.discountText }}</p>
        <p>Điều kiện: {{ c.conditionText }}</p>
        <p>Đã dùng ngày: {{ c.usedAt | date: 'dd/MM/yyyy' }}</p>
      </div>
    </div>
  </div>

  <!-- TAB: HẾT HẠN -->
  <div class="code-list" *ngIf="activeTab === 'expired'">
    <div class="code-item" *ngFor="let c of expiredCoupons">
      <div class="code-header">
        <span class="logo">
          <img [src]="c.logoUrl" alt="Logo" />
        </span>

        <span class="code-text">CODE : {{ c.code }}</span>

        <span class="status status-expired">
          Hết hạn
        </span>
      </div>

      <div class="code-details">
        <p>Giảm {{ c.discountText }}</p>
        <p>Điều kiện: {{ c.conditionText }}</p>
        <p>Hết hạn: {{ c.expiredAt | date: 'dd/MM/yyyy' }}</p>
      </div>
    </div>
  </div>
</div>
